<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	</head>

	<body>
		<div id="container"></div>

		<script src="js/three.min.js"></script>

		<script src="js/TrackballControls.js"></script>

		<script src="js/stats.min.js"></script>

		<script>

			var container, stats;
			var camera, controls, scene, renderer;
			var cross;

			init();
			animate();

			function init() {

				// container

				container = document.getElementById('list')
				var WIDTH = document.getElementById('list').offsetWidth
				var HEADERHEIGHT = $(document.getElementById('header')).outerHeight(true) //includes margins
				// console.log("header height ", HEADERHEIGHT2, HEADERHEIGHT1)
				var HEIGHT = window.innerHeight - HEADERHEIGHT //fills whole screen height beneath header				

				// camera

				camera = new THREE.PerspectiveCamera( 60, WIDTH / HEIGHT, 1, 1000 );
				camera.position.z = 500;

				//controls

				controls = new THREE.TrackballControls( camera );
				controls.rotateSpeed = 8.0;
				controls.zoomSpeed = 4.0;
				controls.panSpeed = 2.0;
				controls.noZoom = false;
				controls.noPan = false;
				controls.staticMoving = true;
				controls.dynamicDampingFactor = 0.3;
				controls.keys = [ 65, 83, 68 ];

				controls.addEventListener( 'change', render );

				// world

				scene = new THREE.Scene();

				var geometry = new THREE.BoxGeometry( 100,100,100); 
				var material =  new THREE.MeshLambertMaterial( { color: 'blue'} );
				var cube = new THREE.Mesh( geometry, material );
			      cube.overdraw = true;
			      cube.rotation.x = Math.PI * 0.1;
			      scene.add(cube);				
				scene.add( cube );

				// lights

				light = new THREE.DirectionalLight( 0xffffff );
				light.position.set( 1, 1, 1 );
				scene.add( light );

				light = new THREE.DirectionalLight( 0xffffff );
				light.position.set( -1, -1, -1 );
				scene.add( light );

				light = new THREE.AmbientLight( 0x222222 );
				scene.add( light );



				// renderer

				renderer = new THREE.WebGLRenderer( { antialias: false } );
				// renderer.setClearColor( scene.fog.color );
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( WIDTH, HEIGHT );

				container.appendChild( renderer.domElement );

				// stats

				stats = new Stats();
				stats.domElement.style.position = 'absolute';
				stats.domElement.style.top = '0px';
				stats.domElement.style.zIndex = 100;
				// container.appendChild( stats.domElement ); //stats box on top left

				window.addEventListener( 'resize', onWindowResize, false );

				render();
			}

			function onWindowResize() {

				camera.aspect = WIDTH / HEIGHT;
				camera.updateProjectionMatrix();
				renderer.setSize( WIDTH, HEIGHT );
				controls.handleResize();
				render();
			}

			function animate() {

				requestAnimationFrame( animate );
				controls.update();
			}

			function render() {

				renderer.render( scene, camera );
				stats.update();
			}


		</script>

	</body>
</html>
